<!DOCTYPE html>
<html class="h-100">

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>CSD Schedule</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='css/bootstrap.min.css'>
    <link rel='stylesheet' type='text/css' media='screen' href='css/custom.css'>
    <link rel="shortcut icon" href="resources/calendar.ico" type="image/x-icon">
</head>

<body class="d-flex flex-column h-100">
    <main class="flex-shrink-0">
        <h4 class="text-center mt-5">ΠΑΝΕΠΙΣΤΗΜΙΟ ΚΡΗΤΗΣ - ΤΜΗΜΑ ΕΠΙΣΤΗΜΗΣ ΥΠΟΛΟΓΙΣΤΩΝ</h4>
        <p class="text-center lead">ΩΡΟΛΟΓΙΟ ΠΡΟΓΡΑΜΜΑ - ΧΕΙΜΕΡΙΝΟ ΕΞΑΜΗΝΟ 2023-2024</p>
        <div class="d-flex justify-content-center c-gap">
            <div class="p-2 btn-group" role="group" aria-label="Basic outlined example">
                <!-- <button type="button" onclick="toggle_class();toggle_teacher();reload_table();" class="btn btn-outline-primary">Hide Class and Teacher</button> -->
                <button type="button" class="btn active" id="show_class"  data-bs-toggle="tooltip" data-bs-placement="top"
                    data-bs-title="Show/Hide class" onclick="toggle_class();reload_table();"><i
                        class="fas fa-book-open"></i></button>
                <button type="button" class="btn active" id="show_teacher"  data-bs-toggle="tooltip" data-bs-placement="top"
                        data-bs-title="Show/Hide teacher" onclick="toggle_teacher();reload_table();"><i
                        class="fas fa-chalkboard-teacher"></i></button>
                <button type="button" class="btn active" id="pinned_view"  data-bs-toggle="tooltip" data-bs-placement="top"
                        data-bs-title="Show/Hide Pinned" onclick="toggle_pinned_view();reload_table();"><i class="fa-solid fa-thumbtack"></i></button>
                <button type="button" class="btn active" id="sort_classes"  data-bs-toggle="tooltip" data-bs-placement="top"
                        data-bs-title="Sort Classes by time" onclick="toggle_sort();reload_table();"><i
                        class="fas fa-arrow-down-wide-short"></i></button>
                <button type="button" class="btn btn-outline-primary"  data-bs-toggle="tooltip" data-bs-placement="top"
                        data-bs-title="Reload table contents" onclick="reload_table();"><i class="fa fa-refresh"
                        aria-hidden="true"></i></button>
                <button type="button" class="btn btn-outline-primary" id="dl_calendar"  data-bs-toggle="tooltip" data-bs-placement="top"
                        data-bs-title="Download Calendar File. EXPERIMENTAL (recommended to clear cache)" onclick="calendar.download()" disabled><i class="fa fa-angle-double-down"
                                                                                           aria-hidden="true"></i></button>
            </div>
            

            <div class="flex-center justify-content-center">
                <button type="button" id="show_pin" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Pin your selected classes" onclick="manage_pinned_view_state();reload_table();" class="btn btn-secondary">
                    Επιλογή Μαθημάτων</button>
            </div>

            <div class="flex-center justify-content-center">
                <button type="button" id="show_tutorial" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Show/Hide Tutorial" onclick="toggle_tutorial();" class="btn btn-secondary">Οδηγίες</button>
            </div>
        </div>

        <!-- Tutorial for the website -->
        <section id="tutorial">
            <div class="flex-center justify-content-center">
                <div class="tutorial-inside">
                    <h2 class="text-center">Οδηγίες Χρήσης</h2></br>
                    <h4 class="text-center">Εμφάνιση/Απόκρυψη Λεπτομερειών</h3>
                    <p class="text-center">Πατώντας τα δύο πρώτα εικονίδια (βιβλίο, πίνακας) μπορείτε να εμφανίσετε (ή να κρύψετε) τον τίτλο και τους διδάσκοντες των μαθημάτων.</p>
                    <div class="tutorial-media">
                        <img src="resources/show_labels.gif" alt="Toggle class title and instructors">
                    </div>
                    </br>
                    <h4 class="text-center">Εξατομικευμένο Πρόγραμμα</h3>
                        <p class="text-center">Πέρα από την προεπισκόπηση όλων των διαθέσιμων μαθημάτων του εξαμήνου, μπορείτε να αποθηκεύσετε και να βλέπετε μόνο τα μαθήματα που σας ενδιαφέρουν. Πατώντας στο κουμπί "Επιλογή Μαθημάτων", μπορείτε να επιλέξετε όσα μαθήματα επιθυμείτε κάνοντας τικ στο κουτί που εμφανίζεται αριστερά από κάθε μάθημα. Πατώντας "Αποθήκευση", οι επιλογές αυτές αποθηκεύονται στον web browser σας και διατηρούνται ακόμα κι αν κλείσετε τον browser ή τον υπολογιστή σας. Μπορείτε να δείτε το εξατομικευμένο πρόγραμμα σας πατώντας στο κουμπί με την πινέζα. Αν θέλετε να διαγραφούν τα μαθήματα που έχετε αποθηκεύσει, πατήστε το κουμπί "clear cache" που βρίσκεται στο τέλος της σελίδας. Επιπλέον, με το κουμπί της λήψης, μπορείτε να κατεβάσετε ένα αρχείο ημερολογίου (.ics) για το εξατομικευμένο πρόγραμμα σας. Αυτό το αρχείο εισάγει αυτόματα πληροφορίες για τα αποθηκευμένα μαθήματα στο ημερολόγιο σας. Χρησιμοποιείται από προγράμματα email/ημερολογίου (π.χ. Microsoft Outlook, Google Calendar, και Apple Calendar). Αυτή η λειτουργεία βρίσκεται ακόμα σε πειραματικό στάδιο.</p>
                    <div class="tutorial-media">
                        <img src="resources/pick_classes.gif" alt="Personalize your program">
                    </div>
                    </br>
                    <h4 class="text-center">Ταξινόμηση Μαθημάτων</h3>
                    <p class="text-center">Τα μαθήματα εμφανίζονται ταξινομημένα με αύξουσα σειρά βάσει του κωδικού τους (ΗΥ-ΧΧΧ). Πατώντας το κουμπί της ταξινόμησης, τα μαθήματα ταξινομούνται και εμφανίζονται βάσει της ώρας που διδάσκονται. Αυτό μπορεί να κάνει το εξατομικευμένο πρόγραμμα πιο ευανάγνωστο και ωραίο αισθητικά.</p>
                    <div class="tutorial-media">
                        <img src="resources/time_sort.gif" alt="Toggle class title and instructors">
                    </div>
                </br>
                    <div class="flex-center justify-content-center">
                        <button type="button" id="show_tutorial2" onclick="toggle_tutorial();" class="btn btn-success">Κλείσιμο Οδηγιών</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Timetable -->
        <div class="container-lg ">
            <div class="table-responsive">
                <table id="main_table" class="table">
                </table>
            </div>
        </div>

    </main>
    <footer class="footer mt-auto py-3">
        <div class="container">
        <p class="text-center text-muted">Έκδοση Προγράμματος: <span id="csd_version"></span></p>
            <div class="d-flex justify-content-center c-gap">
                <a class="btn" href="https://github.com/JohnnyKaz/schedule_csd" target="_blank"><i class="fa-brands fa-github"></i> Contribute</a>
                <a class="btn" href="https://github.com/JohnnyKaz/schedule_csd/issues" target="_blank"><i class="fa fa-bug"></i> Report a bug</a>
                <button class="btn" onclick="clear_cache();" target="_blank"><i class="fa fa-trash"></i> Clear cache</button>
            </div>
        </div>
    </footer>


</body>
</html>

<script src="js/bootstrap.bundle.min.js"></script>
<script src='js/fontawesome.min.js'></script>
<script src='js/jquery-3.6.1.min.js'></script>
<script defer src='js/data.js'></script>
<script defer src='js/main.js'></script>
<script src='ics/Blob.js'></script>
<script src="ics/FileSaver.js"></script>
<script src='ics/ics.js'></script>
<script>
    var calendar = new ics();
    var TODAY = new Date();
    var nearest_dates = [
        new Date(),
        new Date(),
        new Date(),
        new Date(),
        new Date(),
    ]
    nearest_dates[0].setDate(TODAY.getDate() + (7-TODAY.getDay()+1 % 7)-7 || 7);
    nearest_dates[1].setDate(TODAY.getDate() + (7-TODAY.getDay()+2 % 7)-7 || 7);
    nearest_dates[2].setDate(TODAY.getDate() + (7-TODAY.getDay()+3 % 7)-7 || 7);
    nearest_dates[3].setDate(TODAY.getDate() + (7-TODAY.getDay()+4 % 7)-7 || 7);
    nearest_dates[4].setDate(TODAY.getDate() + (7-TODAY.getDay()+5 % 7)-7 || 7);

    var CALENDAR_END_DATE = '12/22/2023' // MM/DD/YYYY Date to end repetition. Update every semester depending on csd academic calendar
    var lessons_read = [
        new Set(),
        new Set(),
        new Set(),
        new Set(),
        new Set(),
    ]
    var times_read = [
        new Set(),
        new Set(),
        new Set(),
        new Set(),
        new Set(),
    ]
    var conflicts = [
        new Set(),
        new Set(),
        new Set(),
        new Set(),
        new Set(),
    ]
    times_read[0].clear();
    times_read[1].clear();
    times_read[2].clear();
    times_read[3].clear();
    times_read[4].clear();
    lessons_read[0].clear();
    lessons_read[1].clear();
    lessons_read[2].clear();
    lessons_read[3].clear();
    lessons_read[4].clear();
    var conflict_found = [false, false, false, false, false];

</script>